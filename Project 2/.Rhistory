submit()
submit()
?uniquw
?unique
submit()
submit()
source('~/Documents/git/ExploringData/Project 2/plot1.R')
png("plot1.png", width=480, height=480)
barplot(
(aggTotals$Emissions)/10^4,
names.arg=aggTotals$year,
xlab="Year",
ylab=expression(paste("PM2.5 Emissions (10"^"4"* " Tons)")),
main="Total PM2.5 Emissions From All US Sources"
)
dev.off()
source('~/Documents/git/ExploringData/Project 2/plot3.R')
source('~/Documents/git/ExploringData/Project 2/plot3.R')
library(ggplot2)
png("plot3.png", width=480, height=480)
baltimore.plot <- ggplot(baltimoreagg, aes(factor(year), Emissions, fill=type)) + geom_bar(stat="identity") + theme_bw() + guides(fill=FALSE) + facet_grid(.~type, scales = "free", space="free") + labs(x="year", y=expression("Total PM"[2.5]*" Emissions (Tons)")) + labs(title=expression("PM"[2.5]*" Emissions, Baltimore City 1999-2008 by Source Type"))
baltimore.plot
dev.off()
library(ggplot2)
png("plot3.png", width=480, height=480)
baltimore.plot <- ggplot(baltimoreagg, aes(factor(year), Emissions, fill=type)) +
geom_bar(stat="identity") +
theme_bw() + guides(fill=FALSE)+
facet_grid(.~type,scales = "free",space="free") +
labs(x="year", y=expression("Total PM"[2.5]*" Emission (Tons)")) +
labs(title=expression("PM"[2.5]*" Emissions, Baltimore City 1999-2008 by Source Type"))
baltimore.plot
dev.off()
# 3. ggplot2
library(ggplot2)
png("plot3.png", width=480, height=480)
baltimore.plot <- ggplot(baltimoreagg, aes(factor(year), Emissions, fill=type)) +
geom_bar(stat="identity") +
theme_bw() + guides(fill=FALSE)+
facet_grid(.~type,scales = "free",space="free") +
labs(x="year", y=expression("Total PM"[2.5]*" Emission (Tons)")) +
labs(title=expression("PM"[2.5]*" Emissions, Baltimore City 1999-2008 by Source Type"))
baltimore.plot
dev.off()
source('~/Documents/git/ExploringData/Project 2/plot3.R')
# 3. ggplot2
library(ggplot2)
png("plot3.png", width=480, height=480)
ggplot(baltimoreagg, aes(factor(year), Emissions, fill=type)) +
geom_bar(stat="identity") +
theme_bw() + guides(fill=FALSE)+
facet_grid(.~type,scales = "free",space="free") +
labs(x="year", y=expression("Total PM"[2.5]*" Emission (Tons)")) +
labs(title=expression("PM"[2.5]*" Emissions, Baltimore City 1999-2008 by Source Type"))
dev.off()
print(baltimore.plot)
library(ggplot2)
png("plot3.png", width=480, height=480)
baltimore.plot <- ggplot(baltimoreagg, aes(factor(year), Emissions, fill=type)) +
geom_bar(stat="identity") +
theme_bw() + guides(fill=FALSE)+
facet_grid(.~type,scales = "free",space="free") +
labs(x="year", y=expression("Total PM"[2.5]*" Emission (Tons)")) +
labs(title=expression("PM"[2.5]*" Emissions, Baltimore City 1999-2008 by Source Type"))
print(baltimore.plot)
dev.off()
ggplot(baltimoreagg, aes(factor(year), Emissions, fill=type)) +
geom_bar(stat="identity") +
theme_bw() + guides(fill=FALSE)+
facet_grid(.~type,scales = "free",space="free") +
labs(x="year", y=expression("Total PM"[2.5]*" Emission (Tons)")) +
labs(title=expression("PM"[2.5]*" Emissions, Baltimore City 1999-2008 by Source Type"))
library(ggplot2)
png("plot3.png", width=480, height=480)
baltimoreplot <- ggplot(baltimoreagg, aes(factor(year), Emissions, fill=type)) +
geom_bar(stat="identity") +
theme_bw() + guides(fill=FALSE)+
facet_grid(.~type,scales = "free",space="free") +
labs(x="year", y=expression("Total PM"[2.5]*" Emission (Tons)")) +
labs(title=expression("PM"[2.5]*" Emissions, Baltimore City 1999-2008 by Source Type"))
print(baltimoreplot)
library(ggplot2)
png("plot3.png", width=480, height=480)
baltimoreplot <- ggplot(baltimoreagg, aes(factor(year), Emissions, fill=type)) +
geom_bar(stat="identity") +
theme_bw() + guides(fill=FALSE)+
facet_grid(.~type,scales = "free",space="free") +
labs(x="year", y=expression("Total PM"[2.5]*" Emission (Tons)")) +
labs(title=expression("PM"[2.5]*" Emissions, Baltimore City 1999-2008 by Source Type"))
print(baltimoreplot)
dev.off()
source('~/Documents/git/ExploringData/Project 2/plot1.R')
source('~/Documents/git/ExploringData/Project 2/plot3.R')
library(ggplot2)
png("plot3.png", width=480, height=480)
ggp <- ggplot(baltimoreagg,aes(factor(year),Emissions,fill=type)) +
geom_bar(stat="identity") +
theme_bw() + guides(fill=FALSE)+
facet_grid(.~type,scales = "free",space="free") +
labs(x="year", y=expression("Total PM"[2.5]*" Emission (Tons)")) +
labs(title=expression("PM"[2.5]*" Emissions, Baltimore City 1999-2008 by Source Type"))
print(ggp)
dev.off()
ggp
ggp()
# 3. ggplot2
library(ggplot2)
png("plot3.png", width=480, height=480)
baltimoreplot <- ggplot(baltimoreagg, aes(x=year, y=Emissions, colour=type)) +
geom_point(alpha=.3) +
geom_smooth(alpha=.2, size=1, method="loess") +
ggtitle("Total Emissions by Type in Baltimore City")
print(baltimoreplot)
dev.off()
source('~/Documents/git/ExploringData/Project 2/plot3.R')
warnings()
source('~/Documents/git/ExploringData/Project 2/plot3.R')
png('plot3.png', width=480, height=480)
baltimoreplot <- ggplot(pd, aes(x=Year, y=Emissions, colour=type)) +
geom_point(alpha=.3) +
geom_smooth(alpha=.2, size=1, method="loess") +
ggtitle("Total Emissions by Type in Baltimore City")
print(baltimoreplot)
dev.off()
setwd("~/Documents/git/ExploringData/Project 2")
library(ggplot2)
# Download the dataset
download_data <- function() {
file <- download.file(url="http://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip", destfile = "dataset.zip")
unzipped <-unzip("dataset.zip")
}
# Import the data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
#  Create Data
BC <- subset(NEI, fips == "24510")
pd <- aggregate(BC[c("Emissions")], list(type = BC$type, year = BC$year), sum)
#  Create Plot
png('plot3.png', width=480, height=480)
baltimoreplot <- ggplot(pd, aes(x=Year, y=Emissions, colour=type)) +
geom_point(alpha=.3) +
geom_smooth(alpha=.2, size=1, method="loess") +
ggtitle("Total Emissions by Type in Baltimore City")
print(baltimoreplot)
dev.off()
?ggplot
source('~/Documents/git/ExploringData/Project 2/plot3.R')
source('~/Documents/git/ExploringData/Project 2/plot3.R')
source('~/Documents/git/ExploringData/Project 2/plot1.R')
source('~/Documents/git/ExploringData/Project 2/plot4.R')
head(SCC)
source('~/Documents/git/ExploringData/Project 2/plot4.R')
# 4. Coal combustion
coal <- grep("coal", SCC$EI.Sector, value = T, ignore.case = T)
SCC.coal <- subset(SCC, SCC$EI.Sector %in% coal, select = SCC)
NEI.coal <- subset(NEI, NEI$SCC %in% SCC.coal$coal$SCC)
coalagg <- aggregate(NEI.coal[c("Emissions")], list(year = NEI.coal$year), sum)
# Import the data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
# 4. Coal combustion
coal <- grep("coal", SCC$EI.Sector, value = T, ignore.case = T)
SCC.coal <- subset(SCC, SCC$EI.Sector %in% coal, select = SCC)
NEI.coal <- subset(NEI, NEI$SCC %in% SCC.coal$coal$SCC)
coalagg <- aggregate(NEI.coal[c("Emissions")], list(year = NEI.coal$year), sum)
SCC.coal <- subset(SCC, SCC$EI.Sector %in% coal, select = SCC)
coal <- grep("coal", SCC$EI.Sector, value = T, ignore.case = T)
SCC.coal <- subset(SCC, SCC$EI.Sector %in% coal, select = SCC)
# Import the data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
#  Create Data
coal <- grep("coal",SCC$EI.Sector,value=T,ignore.case=T)
SCC.coal <- subset(SCC, SCC$EI.Sector %in% coal, select=SCC)
NEI.coal <- subset(NEI, NEI$SCC %in%  SCC.coal$SCC)
coalagg <- aggregate(NEI.coal[c("Emissions")], list(year = NEI.coal$year), sum)
#  Create Plot
png('plot4.png', width=480, height=480)
coalplot <- ggplot(coalagg, aes(x=year, y=Emissions)) +
geom_point(alpha=.3) +
geom_smooth(alpha=.2, size=1) +
ggtitle("Total PM2.5 Coal Combustion Emissions in the US")
print(coalplot)
dev.off()
source('~/Documents/git/ExploringData/Project 2/plot4.R')
#  Create Data
coal <- grep("coal",SCC$EI.Sector,value=T,ignore.case=T)
SCC.coal <- subset(SCC, SCC$EI.Sector %in% coal, select=SCC)
NEI.coal <- subset(NEI, NEI$SCC %in%  SCC.coal$SCC)
coalagg <- aggregate(NEI.coal[c("Emissions")], list(year = NEI.coal$year), sum)
#  Create Plot
png('plot4.png', width=480, height=480)
coalplot <- ggplot(coalagg, aes(x=year, y=Emissions)) +
geom_point(alpha=.3) +
geom_smooth(alpha=.2, size=1) +
ggtitle("Total PM2.5 Coal Combustion Emissions in the US")
print(coalplot)
dev.off()
source('~/Documents/git/ExploringData/Project 2/plot4.R')
Generate the graph in the same directory as the source code
png(filename='plot4.png')
ggplot(data=merge.sum, aes(x=Year, y=Emissions/1000)) +
geom_line(aes(group=1, col=Emissions)) + geom_point(aes(size=2, col=Emissions)) +
ggtitle(expression('Total Emissions of PM'[2.5])) +
ylab(expression(paste('PM', ''[2.5], ' in kilotons'))) +
geom_text(aes(label=round(Emissions/1000,digits=2), size=2, hjust=1.5, vjust=1.5)) +
theme(legend.position='none') + scale_colour_gradient(low='black', high='red')
dev.off()
source('~/Documents/git/ExploringData/Project 2/plot4.R')
source('~/Documents/git/ExploringData/Project 2/plot5.R')
source('~/Documents/git/ExploringData/Project 2/plot5.R')
# 5. How have emissions from motor vehicle sources changed from 1999-2008 in Baltimore City?
png('plot5.png', width=480, height=480)
ggplot(data=MD.df, aes(x=year, y=Emissions)) + geom_bar(aes(fill=year)) + guides(fill=F) +
ggtitle('Total Emissions of Motor Vehicle Sources in Baltimore City, Maryland') +
ylab(expression('PM'[2.5])) + xlab('Year') + theme(legend.position='none') +
geom_text(aes(label=round(Emissions,0), size=1, hjust=0.5, vjust=2))
dev.off()
NEI$year <- factor(NEI$year, levels=c('1999', '2002', '2005', '2008'))
# Baltimore City, Maryland == fips
MD.onroad <- subset(NEI, fips == 24510 & type == 'ON-ROAD')
# Aggregate
MD.df <- aggregate(MD.onroad[, 'Emissions'], by=list(MD.onroad$year), sum)
colnames(MD.df) <- c('year', 'Emissions')
# 5. How have emissions from motor vehicle sources changed from 1999-2008 in Baltimore City?
png('plot5.png', width=480, height=480)
ggplot(data=MD.df, aes(x=year, y=Emissions)) + geom_bar(aes(fill=year)) + guides(fill=F) +
ggtitle('Total Emissions of Motor Vehicle Sources in Baltimore City, Maryland') +
ylab(expression('PM'[2.5])) + xlab('Year') + theme(legend.position='none') +
geom_text(aes(label=round(Emissions,0), size=1, hjust=0.5, vjust=2))
dev.off()
ggplot(data=MD.df, aes(x=year, y=Emissions)) + geom_bar(aes(fill=year)) + guides(fill=F) +
ggtitle('Total Emissions of Motor Vehicle Sources in Baltimore City, Maryland') +
ylab(expression('PM'[2.5])) + xlab('Year') + theme(legend.position='none') +
geom_text(aes(label=round(Emissions,0), size=1, hjust=0.5, vjust=2))
NEI$year <- factor(NEI$year, levels=c('1999', '2002', '2005', '2008'))
# Baltimore City, Maryland == fips
MD.onroad <- subset(NEI, fips == 24510 & type == 'ON-ROAD')
# Aggregate
MD.df <- aggregate(MD.onroad[, 'Emissions'], by=list(MD.onroad$year), sum)
colnames(MD.df) <- c('year', 'Emissions')
# 5. How have emissions from motor vehicle sources changed from 1999-2008 in Baltimore City?
png('plot5.png', width=480, height=480)
ggplot(data=MD.df, aes(x=year, y=Emissions)) + geom_bar(aes(fill=year)) + guides(fill=F) +
ggtitle('Total Emissions of Motor Vehicle Sources in Baltimore City, Maryland') +
ylab(expression('PM'[2.5])) + xlab('Year') + theme(legend.position='none') +
geom_text(aes(label=round(Emissions,0), size=1, hjust=0.5, vjust=2))
ggplot(data=MD.df, aes(x=year, y=Emissions)) + geom_bar(aes(fill=year)) + guides(fill=F) +
ggtitle('Total Emissions of Motor Vehicle Sources in Baltimore City, Maryland') +
ylab(expression('PM'[2.5])) + xlab('Year') + theme(legend.position='none') +
geom_text(aes(label=round(Emissions,0), size=1, hjust=0.5, vjust=2)) + scale_colour_gradient(low='black', high='red')
NEI$year <- factor(NEI$year, levels=c('1999', '2002', '2005', '2008'))
# Baltimore City, Maryland == fips
MD.onroad <- subset(NEI, fips == 24510 & type == 'ON-ROAD')
# Aggregate
MD.df <- aggregate(MD.onroad[, 'Emissions'], by=list(MD.onroad$year), sum)
colnames(MD.df) <- c('year', 'Emissions')
# 5. How have emissions from motor vehicle sources changed from 1999-2008 in Baltimore City?
png('plot5.png', width=480, height=480)
ggplot(data=MD.df, aes(x=year, y=Emissions)) + geom_bar(aes(fill=year)) + guides(fill=F) +
ggtitle('Total Emissions of Motor Vehicle Sources in Baltimore City, Maryland') +
ylab(expression('PM'[2.5])) + xlab('Year') + theme(legend.position='none') +
geom_text(aes(label=round(Emissions,0), size=1, hjust=0.5, vjust=2)) + scale_colour_gradient(low='black', high='red')
dev.off()
NEI$year <- factor(NEI$year, levels=c('1999', '2002', '2005', '2008'))
# Baltimore City, Maryland == fips
MD.onroad <- subset(NEI, fips == 24510 & type == 'ON-ROAD')
# Aggregate
MD.df <- aggregate(MD.onroad[, 'Emissions'], by=list(MD.onroad$year), sum)
colnames(MD.df) <- c('year', 'Emissions')
# 5. How have emissions from motor vehicle sources changed from 1999-2008 in Baltimore City?
png('plot5.png', width=480, height=480)
ggplot(data=MD.df, aes(x=year, y=Emissions)) + geom_bar(aes(fill=year)) + guides(fill=F) +
ggtitle('Total Emissions of Motor Vehicle Sources in Baltimore City, Maryland') +
ylab(expression('PM'[2.5])) + xlab('Year') + theme(legend.position='none') +
geom_text(aes(label=round(Emissions,0), size=1, hjust=0.5, vjust=2) + scale_colour_gradient(low='black', high='red'))
dev.off()
setwd("~/Documents/git/ExploringData/Project 2")
library(ggplot2)
# Download the dataset
download_data <- function() {
file <- download.file(url="http://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip", destfile = "dataset.zip")
unzipped <-unzip("dataset.zip")
}
# Import the data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
NEI$year <- factor(NEI$year, levels=c('1999', '2002', '2005', '2008'))
# Baltimore City, Maryland == fips
MD.onroad <- subset(NEI, fips == 24510 & type == 'ON-ROAD')
# Aggregate
MD.df <- aggregate(MD.onroad[, 'Emissions'], by=list(MD.onroad$year), sum)
colnames(MD.df) <- c('year', 'Emissions')
# 5. How have emissions from motor vehicle sources changed from 1999-2008 in Baltimore City?
png('plot5.png', width=480, height=480)
ggplot(data=MD.df, aes(x=year, y=Emissions)) + geom_bar(aes(fill=year)) + guides(fill=F) +
ggtitle('Total Emissions of Motor Vehicle Sources in Baltimore City, Maryland') +
ylab(expression('PM'[2.5])) + xlab('Year') + theme(legend.position='none') +
geom_text(aes(label=round(Emissions,0), size=1, hjust=0.5, vjust=2) + scale_colour_gradient(low='black', high='red'))
dev.off()
NEI$year <- factor(NEI$year, levels=c('1999', '2002', '2005', '2008'))
# Baltimore City, Maryland == fips
MD.onroad <- subset(NEI, fips == 24510 & type == 'ON-ROAD')
# Aggregate
MD.df <- aggregate(MD.onroad[, 'Emissions'], by=list(MD.onroad$year), sum)
colnames(MD.df) <- c('year', 'Emissions')
# 5. How have emissions from motor vehicle sources changed from 1999-2008 in Baltimore City?
png('plot5.png', width=480, height=480)
ggplot(data=MD.df, aes(x=year, y=Emissions)) + geom_bar(aes(fill=year)) + guides(fill=F) +
ggtitle('Total Emissions of Motor Vehicle Sources in Baltimore City, Maryland') +
ylab(expression('PM'[2.5])) + xlab('Year') + theme(legend.position='none') +
geom_text(aes(label=round(Emissions,0), size=1, hjust=0.5, vjust=2)) + scale_colour_gradient(low='black', high='red')
dev.off()
NEI$year <- factor(NEI$year, levels=c('1999', '2002', '2005', '2008'))
# Baltimore City, Maryland == fips
MD.onroad <- subset(NEI, fips == 24510 & type == 'ON-ROAD')
# Aggregate
MD.df <- aggregate(MD.onroad[, 'Emissions'], by=list(MD.onroad$year), sum)
colnames(MD.df) <- c('year', 'Emissions')
# 5. How have emissions from motor vehicle sources changed from 1999-2008 in Baltimore City?
png('plot5.png', width=480, height=480)
ggplot(data=MD.df, aes(x=year, y=Emissions)) + geom_bar(aes(fill=year)) + guides(fill=F) +
ggtitle('Total Emissions of Motor Vehicle Sources in Baltimore City, Maryland') +
ylab(expression('PM'[2.5])) + xlab('Year') + theme(legend.position='none') +
geom_text(aes(label=round(Emissions,0), size=1, hjust=0.5, vjust=2))
dev.off()
setwd("~/Documents/git/ExploringData/Project 2")
library(ggplot2)
# Download the dataset
download_data <- function() {
file <- download.file(url="http://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip", destfile = "dataset.zip")
unzipped <-unzip("dataset.zip")
}
# Import the data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
NEI$year <- factor(NEI$year, levels=c('1999', '2002', '2005', '2008'))
# Baltimore City, Maryland == fips
MD.onroad <- subset(NEI, fips == 24510 & type == 'ON-ROAD')
# Aggregate
MD.df <- aggregate(MD.onroad[, 'Emissions'], by=list(MD.onroad$year), sum)
colnames(MD.df) <- c('year', 'Emissions')
# How have emissions from motor vehicle sources changed from 1999-2008 in Baltimore City?
# Generate the graph in the same directory as the source code
png('~/Exploratory_Data_Analysis/Assignment_2/plot5.png')
ggplot(data=MD.df, aes(x=year, y=Emissions)) + geom_bar(aes(fill=year)) + guides(fill=F) +
ggtitle('Total Emissions of Motor Vehicle Sources in Baltimore City, Maryland') +
ylab(expression('PM'[2.5])) + xlab('Year') + theme(legend.position='none') +
geom_text(aes(label=round(Emissions,0), size=1, hjust=0.5, vjust=2))
dev.off()
setwd("~/Documents/git/ExploringData/Project 2")
library(ggplot2)
# Download the dataset
download_data <- function() {
file <- download.file(url="http://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip", destfile = "dataset.zip")
unzipped <-unzip("dataset.zip")
}
# Import the data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
NEI$year <- factor(NEI$year, levels=c('1999', '2002', '2005', '2008'))
# Baltimore City, Maryland == fips
MD.onroad <- subset(NEI, fips == 24510 & type == 'ON-ROAD')
# Aggregate
MD.df <- aggregate(MD.onroad[, 'Emissions'], by=list(MD.onroad$year), sum)
colnames(MD.df) <- c('year', 'Emissions')
# How have emissions from motor vehicle sources changed from 1999-2008 in Baltimore City?
# Generate the graph in the same directory as the source code
png('plot5.png')
ggplot(data=MD.df, aes(x=year, y=Emissions)) + geom_bar(aes(fill=year)) + guides(fill=F) +
ggtitle('Total Emissions of Motor Vehicle Sources in Baltimore City, Maryland') +
ylab(expression('PM'[2.5])) + xlab('Year') + theme(legend.position='none') +
geom_text(aes(label=round(Emissions,0), size=1, hjust=0.5, vjust=2))
dev.off()
setwd("~/Documents/git/ExploringData/Project 2")
library(ggplot2)
# Download the dataset
download_data <- function() {
file <- download.file(url="http://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip", destfile = "dataset.zip")
unzipped <-unzip("dataset.zip")
}
# Import the data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
# 1. Aggregates of emissions/year
aggTotals <- aggregate(Emissions ~ year,NEI, sum)
png("plot1.png", width=480, height=480)
barplot(
(aggTotals$Emissions)/10^4,
names.arg=aggTotals$year,
xlab="Year",
ylab=expression(paste("PM2.5 Emissions (10"^"4"* " Tons)")),
main="Total PM2.5 Emissions From All US Sources"
)
dev.off()
setwd("~/Documents/git/ExploringData/Project 2")
library(ggplot2)
# Download the dataset
download_data <- function() {
file <- download.file(url="http://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip", destfile = "dataset.zip")
unzipped <-unzip("dataset.zip")
}
# Import the data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
# Gather the subset of the NEI data which corresponds to vehicles
vehicles <- grepl("vehicle", SCC$SCC.Level.Two, ignore.case=TRUE)
vehiclesSCC <- SCC[vehicles,]$SCC
vehiclesNEI <- NEI[NEI$SCC %in% vehiclesSCC,]
# Subset the vehicles NEI data to Baltimore's fip
baltimoreVehiclesNEI <- vehiclesNEI[vehiclesNEI$fips=="24510",]
png("plot5.png",width=480,height=480,units="px",bg="transparent")
library(ggplot2)
ggp <- ggplot(baltimoreVehiclesNEI,aes(factor(year),Emissions)) +
geom_bar(stat="identity",fill="grey",width=0.75) +
theme_bw() +  guides(fill=FALSE) +
labs(x="year", y=expression("Total PM"[2.5]*" Emission (10^5 Tons)")) +
labs(title=expression("PM"[2.5]*" Motor Vehicle Source Emissions in Baltimore from 1999-2008"))
print(ggp)
dev.off()
setwd("~/Documents/git/ExploringData/Project 2")
library(ggplot2)
# Download the dataset
download_data <- function() {
file <- download.file(url="http://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip", destfile = "dataset.zip")
unzipped <-unzip("dataset.zip")
}
# Import the data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
# Gather the subset of the NEI data which corresponds to vehicles
vehicles <- grepl("vehicle", SCC$SCC.Level.Two, ignore.case=TRUE)
vehiclesSCC <- SCC[vehicles,]$SCC
vehiclesNEI <- NEI[NEI$SCC %in% vehiclesSCC,]
# Subset the vehicles NEI data by each city's fip and add city name.
vehiclesBaltimoreNEI <- vehiclesNEI[vehiclesNEI$fips=="24510",]
vehiclesBaltimoreNEI$city <- "Baltimore City"
vehiclesLANEI <- vehiclesNEI[vehiclesNEI$fips=="06037",]
vehiclesLANEI$city <- "Los Angeles County"
# Combine the two subsets with city name into one data frame
bothNEI <- rbind(vehiclesBaltimoreNEI,vehiclesLANEI)
png("plot6.png",width=480,height=480,units="px",bg="transparent")
library(ggplot2)
ggp <- ggplot(bothNEI, aes(x=factor(year), y=Emissions, fill=city)) +
geom_bar(aes(fill=year),stat="identity") +
facet_grid(scales="free", space="free", .~city) +
guides(fill=FALSE) + theme_bw() +
labs(x="year", y=expression("Total PM"[2.5]*" Emission (Kilo-Tons)")) +
labs(title=expression("PM"[2.5]*" Motor Vehicle Source Emissions in Baltimore & LA, 1999-2008"))
print(ggp)
dev.off()
setwd("~/Documents/git/ExploringData/Project 2")
library(ggplot2)
# Download the dataset
download_data <- function() {
file <- download.file(url="http://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip", destfile = "dataset.zip")
unzipped <-unzip("dataset.zip")
}
# Import the data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
# Gather the subset of the NEI data which corresponds to vehicles
vehicles <- grepl("vehicle", SCC$SCC.Level.Two, ignore.case=TRUE)
vehiclesSCC <- SCC[vehicles,]$SCC
vehiclesNEI <- NEI[NEI$SCC %in% vehiclesSCC,]
# Subset the vehicles NEI data by each city's fip and add city name.
vehiclesBaltimoreNEI <- vehiclesNEI[vehiclesNEI$fips=="24510",]
vehiclesBaltimoreNEI$city <- "Baltimore City"
vehiclesLANEI <- vehiclesNEI[vehiclesNEI$fips=="06037",]
vehiclesLANEI$city <- "Los Angeles County"
# Combine the two subsets with city name into one data frame
bothNEI <- rbind(vehiclesBaltimoreNEI,vehiclesLANEI)
png("plot6.png",width=480,height=480,units="px",bg="transparent")
library(ggplot2)
ggp <- ggplot(bothNEI, aes(x=factor(year), y=Emissions, fill=city)) +
geom_bar(aes(fill=year),stat="identity") +
facet_grid(scales="free", space="free", .~city) +
guides(fill=FALSE) + theme_bw() +
labs(x="year", y=expression("Total PM"[2.5]*" Emission (Kilo-Tons)")) +
labs(title=expression("PM"[2.5]*" Motor Vehicle Source Emissions in Baltimore & LA, 1999-2008"))
print(ggp)
dev.off()
setwd("~/Documents/git/ExploringData/Project 2")
library(ggplot2)
# Download the dataset
download_data <- function() {
file <- download.file(url="http://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip", destfile = "dataset.zip")
unzipped <-unzip("dataset.zip")
}
# Import the data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
# Gather the subset of the NEI data which corresponds to vehicles
vehicles <- grepl("vehicle", SCC$SCC.Level.Two, ignore.case=TRUE)
vehiclesSCC <- SCC[vehicles,]$SCC
vehiclesNEI <- NEI[NEI$SCC %in% vehiclesSCC,]
# Subset the vehicles NEI data by each city's fip and add city name.
vehiclesBaltimoreNEI <- vehiclesNEI[vehiclesNEI$fips=="24510",]
vehiclesBaltimoreNEI$city <- "Baltimore City"
vehiclesLANEI <- vehiclesNEI[vehiclesNEI$fips=="06037",]
vehiclesLANEI$city <- "Los Angeles County"
# Combine the two subsets with city name into one data frame
bothNEI <- rbind(vehiclesBaltimoreNEI,vehiclesLANEI)
png("plot6.png", width=480, height=480)
library(ggplot2)
ggplot(bothNEI, aes(x=factor(year), y=Emissions, fill=city)) +
geom_bar(aes(fill=year),stat="identity") +
facet_grid(scales="free", space="free", .~city) +
guides(fill=FALSE) + theme_bw() +
labs(x="year", y=expression("Total PM"[2.5]*" Emission (Kilo-Tons)")) +
labs(title=expression("PM"[2.5]*" Motor Vehicle Source Emissions in Baltimore & LA, 1999-2008"))
dev.off()
